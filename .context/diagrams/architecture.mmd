```mermaid
graph TB
    %% External Interfaces
    User[ðŸ‘¤ User Interface]
    ClaudeDesktop[ðŸ¤– Claude Desktop]
    Database[(ðŸ—„ï¸ PostgreSQL)]
    N8nUI[âš™ï¸ n8n UI]
    
    %% Main Application Layer
    subgraph "Phoenix Application"
        Router[ðŸ”€ Phoenix Router]
        LiveView[ðŸ“± LiveView Components]
        Controllers[ðŸŽ›ï¸ API Controllers]
        Telemetry[ðŸ“Š Telemetry]
    end
    
    %% Self-Improvement Engine
    subgraph "Self-Improvement Engine"
        Supervisor[ðŸ‘‘ Enhancement Supervisor]
        Discovery[ðŸ” Enhancement Discovery]
        Implementer[âš¡ Auto Implementer]
        Tester[ðŸ§ª Auto Tester]
        MetaEnhancer[ðŸ”„ Meta Enhancer]
        FeedbackLoop[ðŸ” Feedback Loop]
    end
    
    %% AI Integration Layer
    subgraph "Claude Code Integration"
        ClaudeServer[ðŸ¤– Claude Code Server]
        TaskBuilder[ðŸ”§ Task Builder]
        ResponseParser[ðŸ“ Response Parser]
        StreamHandler[ðŸ“¡ Stream Handler]
    end
    
    %% n8n Workflow Engine
    subgraph "n8n Workflow Engine"
        WorkflowManager[ðŸ“‹ Workflow Manager]
        ReactorDSL[ðŸ“œ Reactor DSL]
        McpProxy[ðŸ”— MCP Proxy]
        Compiler[âš™ï¸ DSL Compiler]
    end
    
    %% Ash Framework Layer
    subgraph "Ash Framework Domain"
        AshResources[ðŸ“š Ash Resources]
        SelfImprovementDomain[ðŸŽ¯ Self-Improvement Domain]
        WorkflowsDomain[ðŸ”„ Workflows Domain]
        AshAI[ðŸ§  Ash AI Integration]
    end
    
    %% Monitoring and Performance
    subgraph "Monitoring & Performance"
        PerformanceMonitor[ðŸ“ˆ Performance Monitor]
        HealthChecks[â¤ï¸ Health Checks]
        MetricsCollector[ðŸ“Š Metrics Collector]
        AlertSystem[ðŸš¨ Alert System]
    end
    
    %% Data Flow Connections
    User --> Router
    ClaudeDesktop --> McpProxy
    Router --> LiveView
    Router --> Controllers
    
    %% Self-Improvement Flow
    Supervisor --> Discovery
    Discovery --> Implementer
    Implementer --> Tester
    Tester --> MetaEnhancer
    MetaEnhancer --> FeedbackLoop
    FeedbackLoop --> Discovery
    
    %% Claude Code Integration Flow
    Implementer --> ClaudeServer
    ClaudeServer --> TaskBuilder
    TaskBuilder --> StreamHandler
    StreamHandler --> ResponseParser
    ResponseParser --> AshResources
    
    %% n8n Workflow Flow
    WorkflowManager --> ReactorDSL
    ReactorDSL --> Compiler
    Compiler --> N8nUI
    McpProxy --> WorkflowManager
    
    %% Ash Framework Integration
    Discovery --> SelfImprovementDomain
    SelfImprovementDomain --> AshResources
    WorkflowManager --> WorkflowsDomain
    AshAI --> ClaudeServer
    
    %% Monitoring Integration
    Discovery --> PerformanceMonitor
    PerformanceMonitor --> MetricsCollector
    MetricsCollector --> HealthChecks
    HealthChecks --> AlertSystem
    AlertSystem --> FeedbackLoop
    
    %% Database Connections
    AshResources --> Database
    MetricsCollector --> Database
    SelfImprovementDomain --> Database
    WorkflowsDomain --> Database
    
    %% External Service Connections
    Controllers --> N8nUI
    Telemetry --> PerformanceMonitor
    
    %% Styling
    classDef userInterface fill:#e1f5fe
    classDef aiEngine fill:#f3e5f5
    classDef infrastructure fill:#e8f5e8
    classDef monitoring fill:#fff3e0
    classDef database fill:#fce4ec
    
    class User,ClaudeDesktop,N8nUI userInterface
    class Supervisor,Discovery,Implementer,Tester,MetaEnhancer,FeedbackLoop,ClaudeServer,TaskBuilder,ResponseParser,StreamHandler aiEngine
    class Router,LiveView,Controllers,Telemetry,WorkflowManager,ReactorDSL,McpProxy,Compiler,AshResources,SelfImprovementDomain,WorkflowsDomain,AshAI infrastructure
    class PerformanceMonitor,HealthChecks,MetricsCollector,AlertSystem monitoring
    class Database database
```